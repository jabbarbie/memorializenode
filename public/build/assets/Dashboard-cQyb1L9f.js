import{r as e,b as w,j as s,Y as y}from"./app-TDMaYIzW.js";import{B as j,Y as C,A as b}from"./AuthenticatedLayout-BjmqA3lG.js";/* empty css             */import{f as k}from"./helper-3qqXrT20.js";function N({auth:p,note:n}){const t=e.useRef(null),[o,m]=e.useState(n.name),[x,i]=e.useState(!1),[l,c]=e.useState(!0),[S,g]=e.useState(0),[r,d]=e.useState(""),v=a=>{g(h=>h+1),i(!0),m(a.target.value)};e.useEffect(()=>{console.log("lastWord",r),r=="Escape"&&(c(!0),f()),r=="Enter"&&c(!1)},[r]);const u=a=>{a.key==="Escape"&&d("Escape"),a.key==="Enter"&&d("Enter")},E=()=>{t&&t.current&&(t.current.focus(),t.current.selectionStart=t.current.value.length,t.current.selectionEnd=t.current.value.length)};e.useEffect(()=>{l||E()},[l]),e.useEffect(()=>(window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)}),[]);const f=()=>{if(x){const a={note:n.id,name:o};w.post(`/${n.id}/store_note`,a).then(h=>{j.success("Saved",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:0,theme:"dark",transition:C}),i(!1)})}};return s.jsxs(b,{user:p.user,header:s.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Dashboard"}),children:[s.jsx(y,{title:"Dashboard"}),s.jsx("div",{id:"home__wrapper",children:s.jsx("div",{className:"home__main",children:l?s.jsx("div",{id:"display",className:"textarea__preview",children:k(o)}):s.jsx("textarea",{ref:t,className:"",spellCheck:"false",value:o,autoFocus:!0,onChange:v,onBlur:f})})})]})}export{N as default};
